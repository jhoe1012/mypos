"use strict";(self.webpackChunknexopos_4x=self.webpackChunknexopos_4x||[]).push([[555],{4555:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var r=s(381),o=s.n(r),n=s(9045),i=s(5318),a=s(7700),l=s(3632);s(2614);const c={name:"ns-inventory-report",data:function(){return{startDate:o()(),endDate:o()(),result:[],users:[],summary:{},selectedUser:"",reportType:{label:(0,l.__)("Report Type"),name:"reportType",type:"select",value:"categories_report",options:[{label:(0,l.__)("Categories Detailed"),name:"categories_report"},{label:(0,l.__)("Categories Summary"),name:"categories_summary"},{label:(0,l.__)("Products"),name:"products_report"}],description:(0,l.__)("Allow you to choose the report type.")},filterUser:{label:(0,l.__)("Filter User"),name:"filterUser",type:"select",value:"",options:[],description:(0,l.__)("Allow you to choose the report type.")},field:{type:"datetimepicker",value:"2021-02-07",name:"date"}}},components:{nsDatepicker:n.Z,nsDateTimePicker:i.Z},computed:{},methods:{setStartDate:function(e){this.startDate=e.format()},setEndDate:function(e){this.endDate=e.format()},loadReport:function(){var e=this;if(null===this.startDate||null===this.endDate)return a.kX.error((0,l.__)("Unable to proceed. Select a correct time range.")).subscribe();var t=o()(this.startDate);if(o()(this.endDate).isBefore(t))return a.kX.error((0,l.__)("Unable to proceed. The current time range is not valid.")).subscribe();a.ih.post("/api/nexopos/v4/reports/inventory-report",{startDate:this.startDate,endDate:this.endDate}).subscribe({next:function(t){e.result=t.result,e.summary=t.summary},error:function(e){a.kX.error(e.message).subscribe()}})},computeTotal:function(e,t){return e.length>0?e.map((function(e){return parseFloat(e[t])})).reduce((function(e,t){return e+t})):0}}},u=c;const p=(0,s(1900).Z)(u,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null).exports},2614:(e,t,s)=>{s.d(t,{Z:()=>i});var r=s(665),o=s(3632);const n={data:function(){return{value:[],options:[],description:"",label:null,type:"select"}},computed:{},mounted:function(){this.popupCloser(),this.value=this.$popupParams.value||[],this.options=this.$popupParams.options,this.label=this.$popupParams.label,this.description=this.$popupParams.description||"",this.type=this.$popupParams.type||this.type},methods:{popupCloser:r.Z,__:o.__,toggle:function(e){var t=this.value.indexOf(e);-1===t?this.value.unshift(e):this.value.splice(t,1)},isSelected:function(e){return this.value.indexOf(e)>=0},close:function(){this.$popupParams.reject(!1),this.$popup.close()},select:function(e){void 0!==e&&(this.value=[e]),this.$popupParams.resolve(this.value),this.close()}}};const i=(0,s(1900).Z)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"shadow-xl ns-box w-6/7-screen md:w-4/7-screen lg:w-3/7-screen max-h-5/6-screen overflow-hidden flex flex-col"},[s("div",{staticClass:"p-2 flex justify-between border-b items-center ns-box-header"},[s("span",{staticClass:"text-semibold text-primary"},[e._v("\n            "+e._s(e.label)+"\n        ")]),e._v(" "),s("div",[s("ns-close-button",{on:{click:function(t){return e.close()}}})],1)]),e._v(" "),s("div",{staticClass:"flex flex-col overflow-hidden"},[e.description.length>0?s("p",{staticClass:"p-2 text-center text-sm bg-info-primary"},[e._v(e._s(e.description))]):e._e(),e._v(" "),s("div",{staticClass:"overflow-y-auto"},[s("ul",{staticClass:"ns-vertical-menu"},["select"===e.type?e._l(e.options,(function(t){return s("li",{key:t.value,staticClass:"p-2 border-b border-box-edge text-primary cursor-pointer",on:{click:function(s){return e.select(t)}}},[e._v(e._s(t.label))])})):e._e(),e._v(" "),"multiselect"===e.type?e._l(e.options,(function(t){return s("li",{key:t.value,staticClass:"p-2 border-b text-primary cursor-pointer",class:e.isSelected(t)?"active":"",on:{click:function(s){return e.toggle(t)}}},[e._v(e._s(t.label))])})):e._e()],2)])]),e._v(" "),"multiselect"===e.type?s("div",{staticClass:"flex justify-between"},[s("div"),e._v(" "),s("div",[s("ns-button",{attrs:{type:"info"},on:{click:function(t){return e.select()}}},[e._v(e._s(e.__("Select")))])],1)]):e._e()])}),[],!1,null,null,null).exports}}]);